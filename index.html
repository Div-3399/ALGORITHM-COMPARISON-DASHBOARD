<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Vertical Chart Dashboard</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      background: linear-gradient(135deg, #1e2a38, #243b55);
      font-family: 'Segoe UI', sans-serif;
      color: white;
      margin: 0;
      padding: 40px;
    }

    .container {
      max-width: 900px;
      margin: auto;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 24px;
      padding: 30px;
      box-shadow: 0 0 30px rgba(0, 0, 0, 0.3);
    }

    h1 {
      text-align: center;
      margin-bottom: 30px;
    }

    .upload-box {
      display: flex;
      justify-content: center;
      margin-bottom: 20px;
    }

    .upload-box input {
      display: none;
    }

    .upload-label {
      background-color: #5a4fcf;
      color: white;
      padding: 12px 20px;
      border-radius: 12px;
      cursor: pointer;
      transition: 0.3s;
    }

    .upload-label:hover {
      background-color: #7b6dff;
    }

    .algo-buttons {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 20px;
      margin-bottom: 40px;
    }

    .algo-buttons button {
      padding: 10px 20px;
      border: none;
      border-radius: 14px;
      background-color: #2e3753;
      color: white;
      cursor: pointer;
      transition: 0.2s;
    }

    .algo-buttons button:hover {
      background-color: #44587b;
    }

    .charts canvas {
      background: rgba(255, 255, 255, 0.03);
      border-radius: 20px;
      padding: 20px;
      margin-bottom: 40px;
      width: 100% !important;
      height: 400px !important;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Algorithm Comparison</h1>

    <div class="upload-box">
      <label class="upload-label">
        Upload CSV
        <input type="file" id="csvFile" accept=".csv" />
      </label>
    </div>

    <div class="algo-buttons">
      <button onclick="updateCharts('apriori')">Apriori</button>
      <button onclick="updateCharts('fpgrowth')">FPGrowth</button>
    </div>

    <div class="charts">
      <canvas id="executionChart"></canvas>
      <canvas id="memoryChart"></canvas>
      <canvas id="patternChart"></canvas>
      <canvas id="scalabilityChart"></canvas>
    </div>
  </div>

  <script>
    const dataSet = {
      apriori: {
        execution: [2.1],
        memory: [500],
        pattern: [0.67],
        scalability: [20, 40, 70, 130, 180],
      },
      fpgrowth: {
        execution: [1.5],
        memory: [400],
        pattern: [0.82],
        scalability: [30, 60, 90, 180, 220],
      },
      sizes: ['1k', '5k', '10k', '25k', '50k'],
    };

    const execChart = new Chart(document.getElementById("executionChart"), {
      type: "bar",
      data: {
        labels: ["Execution Time (sec)"],
        datasets: [
          { label: "Apriori", data: dataSet.apriori.execution, backgroundColor: "#a06af9" },
          { label: "FPGrowth", data: dataSet.fpgrowth.execution, backgroundColor: "#46d4c5" }
        ]
      },
      options: { responsive: true, plugins: { legend: { position: 'bottom' } } }
    });

    const memChart = new Chart(document.getElementById("memoryChart"), {
      type: "bar",
      data: {
        labels: ["Memory Usage (MB)"],
        datasets: [
          { label: "Apriori", data: dataSet.apriori.memory, backgroundColor: "#a06af9" },
          { label: "FPGrowth", data: dataSet.fpgrowth.memory, backgroundColor: "#46d4c5" }
        ]
      },
      options: { responsive: true, plugins: { legend: { position: 'bottom' } } }
    });

    const patternChart = new Chart(document.getElementById("patternChart"), {
      type: "bar",
      data: {
        labels: ["Pattern Quality"],
        datasets: [
          { label: "Apriori", data: dataSet.apriori.pattern, backgroundColor: "#a06af9" },
          { label: "FPGrowth", data: dataSet.fpgrowth.pattern, backgroundColor: "#46d4c5" }
        ]
      },
      options: { responsive: true, plugins: { legend: { position: 'bottom' } }, scales: { y: { max: 1 } } }
    });

    const scaleChart = new Chart(document.getElementById("scalabilityChart"), {
      type: "line",
      data: {
        labels: dataSet.sizes,
        datasets: [
          {
            label: "Apriori",
            data: dataSet.apriori.scalability,
            borderColor: "#a06af9",
            fill: false,
            tension: 0.3
          },
          {
            label: "FPGrowth",
            data: dataSet.fpgrowth.scalability,
            borderColor: "#46d4c5",
            fill: false,
            tension: 0.3
          }
        ]
      },
      options: { responsive: true, plugins: { legend: { position: 'bottom' } } }
    });

    function updateCharts(algorithm) {
      alert(`Showing ${algorithm.toUpperCase()} metrics`);
    }

    document.getElementById('csvFile').addEventListener('change', function () {
      const file = this.files[0];
      if (file) {
        alert(`File "${file.name}" uploaded. (Currently simulating values)`);
        // Hook actual CSV parsing logic here
      }
    });
  </script>
</body>
</html>
